{"ast":null,"code":"var _jsxFileName = \"/Users/matthewgilarmo/Projects/myrecipes/src/components/main/SearchResults.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { showRecipeAndVideos } from '../../actions/actions';\nimport '../../css/main/SearchResults.css';\n\nconst SearchResults = props => {\n  // sort an array of objects by key, https://www.sitepoint.com/sort-an-array-of-objects-in-javascript/\n  const compareValues = (key, order = 'asc') => (a, b) => {\n    if (!a.hasOwnProperty(key) || !b.hasOwnProperty(key)) {\n      return 0;\n    }\n\n    const varA = typeof a[key] === 'string' ? a[key].toUpperCase() : a[key];\n    const varB = typeof b[key] === 'string' ? b[key].toUpperCase() : b[key];\n    let comparison = 0;\n\n    if (varA > varB) {\n      comparison = 1;\n    } else if (varA < varB) {\n      comparison = -1;\n    }\n\n    return order === 'desc' ? comparison * -1 : comparison;\n  };\n\n  let filteredRecipes = [];\n  let sortedRecipes = [...props.recipes].sort(compareValues('recipeName'));\n\n  if (props.showAllRecipes) {\n    filteredRecipes = sortedRecipes;\n  } else {\n    filteredRecipes = props.term.length > 0 ? sortedRecipes.filter(recipe => JSON.stringify(recipe).toLowerCase().indexOf(props.term.toLowerCase()) > -1) : [];\n  }\n\n  const searchResultsBorder = !filteredRecipes ? \" search-results-border\" : \"\";\n  console.log(filteredRecipes);\n  return React.createElement(\"div\", {\n    className: \"recipe-card-results\".concat(searchResultsBorder),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, filteredRecipes.map(recipe => React.createElement(\"div\", {\n    className: \"recipe-card\",\n    key: recipe.id,\n    onClick: () => {\n      props.showRecipeAndVideos(recipe.id, recipe.recipeName);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, recipe.recipeName)));\n};\n\nconst mapStateToProps = state => {\n  return {\n    term: state.ui.term,\n    showAllRecipes: state.ui.showAllRecipes,\n    recipes: state.recipes.recipes\n  };\n}; // const mapDispatchToProps = (dispatch) => {\n//   return {\n//     showRecipeAndVideos: dispatch(showRecipeAndVideos)\n//   }\n// };\n\n\nexport default connect(mapStateToProps, {\n  showRecipeAndVideos\n})(SearchResults);","map":{"version":3,"sources":["/Users/matthewgilarmo/Projects/myrecipes/src/components/main/SearchResults.js"],"names":["React","connect","showRecipeAndVideos","SearchResults","props","compareValues","key","order","a","b","hasOwnProperty","varA","toUpperCase","varB","comparison","filteredRecipes","sortedRecipes","recipes","sort","showAllRecipes","term","length","filter","recipe","JSON","stringify","toLowerCase","indexOf","searchResultsBorder","console","log","map","id","recipeName","mapStateToProps","state","ui"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {connect} from 'react-redux';\nimport {showRecipeAndVideos} from '../../actions/actions';\nimport '../../css/main/SearchResults.css';\n\n\nconst SearchResults = (props) => {\n  // sort an array of objects by key, https://www.sitepoint.com/sort-an-array-of-objects-in-javascript/\n  const compareValues = (key, order='asc') => (a, b) => {\n    if(!a.hasOwnProperty(key) || !b.hasOwnProperty(key)) {\n      return 0;\n    }\n    \n    const varA = (typeof a[key] === 'string') ? a[key].toUpperCase() : a[key];\n    const varB = (typeof b[key] === 'string') ? b[key].toUpperCase() : b[key];\n\n    let comparison = 0;\n    if (varA > varB) {\n      comparison = 1;\n    } else if (varA < varB) {\n      comparison = -1;\n    }\n\n    return order === 'desc' ? (comparison * -1) : comparison;\n  };\n  \n  let filteredRecipes = []\n  let sortedRecipes = [...props.recipes].sort(compareValues('recipeName'))\n\n  if(props.showAllRecipes) {\n    filteredRecipes = sortedRecipes;\n  } else {\n    filteredRecipes = props.term.length > 0 ? \n    sortedRecipes.filter((recipe) => \n        JSON.stringify(recipe).toLowerCase().indexOf(props.term.toLowerCase()) > -1) :\n    [];    \n  }\n\n  const searchResultsBorder = !filteredRecipes ? \" search-results-border\" : \"\";\n  console.log(filteredRecipes);\n  return (\n    <div className={`recipe-card-results${searchResultsBorder}`}>\n      {filteredRecipes.map((recipe) => \n        <div \n          className=\"recipe-card\"\n          key = {recipe.id} \n          onClick = {() => {\n            props.showRecipeAndVideos(recipe.id, recipe.recipeName)\n          }} \n        >\n          {recipe.recipeName}\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    term: state.ui.term,\n    showAllRecipes: state.ui.showAllRecipes,\n    recipes: state.recipes.recipes\n  }\n}\n\n// const mapDispatchToProps = (dispatch) => {\n//   return {\n//     showRecipeAndVideos: dispatch(showRecipeAndVideos)\n//   }\n// };\n\nexport default connect(\n  mapStateToProps,\n  {showRecipeAndVideos}\n)(SearchResults);"]},"metadata":{},"sourceType":"module"}